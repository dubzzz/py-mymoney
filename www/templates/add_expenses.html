{% extends "base.html" %}

{% block title %}Add expenses{% end %}

{% block additional_css_js %}

<link rel="stylesheet" href="/static/js-tools/css/autocomplete.css">
<link rel="stylesheet" href="/static/css/add_expenses_table.css">
<script src="/static/js-tools/js/autocomplete.js"></script>
<script src="/static/js/add_expenses_table.js"></script>

{% end %}

{% block content %}

<div id="add_expenses">
  <div class="nonsorted-table sorted-table-hide-id" id="add-expenses-table">
    <div class="nonsorted-table-header">
      <div class="row">
        <div class="col-md-2">Date</div>
        <div class="col-md-4">Title</div>
        <div class="col-md-2">Price</div>
        <div class="col-md-3">Categories</div>
        <div class="col-md-1"></div>
      </div>
    </div>
    <div class="nonsorted-table-body">
      <div class="row">
        <span class="glyphicon glyphicon-info-sign"></span> Please enable JavaScript to be able to see expenses
      </div>
    </div>
  </div>
  <button id="submit-expenses" class="btn btn-default" type="submit">Submit valid expenses</button>
</div>

<script type="text/javascript">
  var autocomplete_for_title = [
    {% for expense in expenses %}
    {
      autocomplete_id: {{ expense[0] }},
      autocomplete_rawdata_on: "{{ expense[1] }}",
    },
    {% end %}
  ];
  initAddExpensesTable("{{ reverse_url('xml_add_expense') }}",
      "{{ reverse_url('xml_trees') }}",
      autocomplete_for_title);
</script>

{% end %}
